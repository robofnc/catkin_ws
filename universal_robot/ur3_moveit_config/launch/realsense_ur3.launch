<?xml version="1.0"?>
<launch>
  
  <arg name="sim" default="false" />
  <arg name="limited" default="false"/>
  <arg name="debug" default="false" />
  <arg name="config" default="true"/>
  <arg name="rviz_config" default="$(find ur3_moveit_config)/launch/moveit.rviz" />

  <!-- By default we do not overwrite the URDF. Change the following to true to change the default behavior -->
  <arg name="load_robot_description" default="false"/>

  <!--<include planning_cotext.launch>-->
    <include file="$(find ur3_moveit_config)/launch/planning_context.launch">
    	<arg name="load_robot_description" value="$(arg load_robot_description)"/>
    </include>


  <!-- Remap follow_joint_trajectory -->
  <remap if="$(arg sim)" from="/follow_joint_trajectory" to="/arm_controller/follow_joint_trajectory"/>

   <!-- Launch moveit -->
   
   <arg name="kinect" default="false" />
   <arg name="camera_link_pose" default="0.0 0.0 0.0 0.0 0.0 0"/>
   <include file="$(find ur3_moveit_config)/launch/move_group.launch">
   	<arg name="kinect" value="$(arg kinect)" />
  	<arg name="limited" default="$(arg limited)"/>
   	<arg name="debug" default="$(arg debug)" />
   	<arg name="camera_link_pose" default="$(arg camera_link_pose)"/>
   	<arg name="allow_trajectory_execution" value="true"/>
   </include>
   
  <!--Launch rviz-->
  
   <include file="$(find ur3_moveit_config)/launch/moveit_rviz.launch">
   	<arg name="config" value="$(arg config)" />
  </include>

</launch>
